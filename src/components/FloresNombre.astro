<section class="relative bg-white text-black w-full">

  <!-- ===== FLORES ARRIBA - FULL WIDTH ===== -->
  <div class="relative w-full" id="flores-arriba">
    <img
      src="/imagenes/FloresArriba.webp"
      alt="Flores decorativas"
      class="w-full h-auto object-cover object-center block"
    />

    <!-- CORONA CENTRADA SOBRE LAS FLORES -->
    <div
      class="absolute left-1/2 transform -translate-x-1/2 top-[100px] sm:top-16 md:top-12 lg:top-8 xl:top-4 z-50"
      id="corona"
    >
      <img
        src="/imagenes/Corona.webp"
        alt="Corona de quinceañera"
        class="w-24 h-auto sm:w-24 sm:h-24 md:w-28 md:h-28 lg:w-32 lg:h-32 xl:w-36 xl:h-36 object-contain mx-auto"
      />
    </div>
  </div>

  <!-- ===== CONTENIDO CENTRAL - CAMBIO: QUITÉ ABSOLUTE ===== -->
  <div class="relative w-full  sm:pt-40 md:pt-48">
    <div class="flex justify-center w-full">
      <div class="text-center z-10 max-w-4xl w-full">

        <!-- TEXTO: MIS XV AÑOS -->
        <div class="relative text-center z-30 mb-8 w-full" id="titulo-container">
          <h1
            class="font-crimson text-2xl sm:text-2xl md:text-3xl lg:text-4xl xl:text-5xl text-[#95303a] font-bold tracking-wider whitespace-nowrap"
            id="titulo"
          >
            MIS XV AÑOS
          </h1>
        </div>

        <!-- NOMBRE CON MARIPOSAS A LOS LADOS -->
        <div
          class="flex items-center justify-center gap-8 sm:gap-16 md:gap-24 lg:gap-32 px-4 mb-12"
          id="nombre-container"
        >
          <!-- MARIPOSA IZQUIERDA -->
          <div id="mariposa-izq" class="flex-shrink-0">
            <img
              src="/gif/MariposaRoja.gif"
              alt="Mariposa izquierda"
              class="w-12 h-auto sm:w-8 sm:h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 object-contain"
            />
          </div>

          <!-- NOMBRE -->
          <h2
            class="font-great-vibes text-7xl sm:text-4xl md:text-5xl lg:text-6xl xl:text-7xl text-[#a27735] tracking-wide whitespace-nowrap"
            id="nombre-typewriter"
          ></h2>

          <!-- MARIPOSA DERECHA -->
          <div id="mariposa-der" class="flex-shrink-0">
            <img
              src="/gif/MariposaRoja.gif"
              alt="Mariposa derecha"
              class="w-12 h-auto sm:w-8 sm:h-8 md:w-10 md:h-10 lg:w-12 lg:h-12 object-contain scale-x-[-1]"
            />
          </div>
        </div>

        <!-- ===== IMAGEN PRINCIPAL CON FLORES LATERALES ===== -->
        <div class="relative w-full" id="foto-container">
          <!-- FLORES IZQUIERDA - MÁS ABAJO -->
          <div id="flores-foto-izq" class="absolute left-0 top-48 sm:top-40 md:top-32 lg:top-24 flex-shrink-0 z-30">
            <img
              src="/imagenes/FloresIzquierda.webp"
              alt="Flores izquierda"
              class="w-12 h-auto sm:w-12 md:w-16 lg:w-20 object-contain"
            />
          </div>

          <!-- FLORES DERECHA - MÁS ABAJO -->
          <div id="flores-foto-der" class="absolute right-0 top-48 sm:top-40 md:top-32 lg:top-24 flex-shrink-0 z-30">
            <img
              src="/imagenes/FloresDerecha.webp"
              alt="Flores derecha"
              class="w-12 h-auto sm:w-12 md:w-16 lg:w-20 object-contain"
            />
          </div>

          <!-- IMAGEN DE LA QUINCEAÑERA -->
          <div class="relative flex justify-center">
            <img
              src="/imagenes/xv.webp"
              alt="Foto de quinceañera"
              class="w-[70vw] max-w-none h-auto sm:w-[95vw] md:w-[85vw] lg:w-[70vw] xl:w-[55vw] object-contain"
              id="foto-quinceañera"
            />
          </div>
        </div>

      </div>
    </div>
  </div>

</section>

<!-- ===== ANIMACIONES GSAP ===== -->
<script>
  import { gsap } from "gsap";

  document.addEventListener("DOMContentLoaded", () => {
    console.log("Iniciando animaciones...");

    // FLORES ARRIBA - Fade in
    gsap.fromTo(
      "#flores-arriba",
      { opacity: 0 },
      { opacity: 1, duration: 1, ease: "power2.out" }
    );

    // CORONA - Zoom in
    gsap.fromTo(
      "#corona",
      { opacity: 0, scale: 0.5 },
      { opacity: 1, scale: 1, duration: 1.2, ease: "back.out(1.2)", delay: 0.3 }
    );

    // TÍTULO - Fade in de arriba
    gsap.fromTo(
      "#titulo",
      { opacity: 0, y: 30 },
      { opacity: 1, y: 0, duration: 1, ease: "power2.out", delay: 0.5 }
    );

    // MARIPOSA IZQUIERDA - Llega de la izquierda
    gsap.fromTo(
      "#mariposa-izq",
      { opacity: 0, x: -50, y: 20, rotation: -15, scale: 0.8 },
      { opacity: 1, x: 0, y: 0, rotation: 0, scale: 1, duration: 4, ease: "power2.out" }
    );

    // MARIPOSA IZQUIERDA - Flotado con movimiento elegante
    gsap.to("#mariposa-izq", {
      y: -12,
      rotation: 3,
      duration: 3,
      ease: "sine.inOut",
      yoyo: true,
      repeat: -1,
      delay: 1.5
    });

    gsap.to("#mariposa-izq", {
      x: 10,
      duration: 4,
      ease: "sine.inOut",
      yoyo: true,
      repeat: -1,
      delay: 1.5
    });

    // MARIPOSA DERECHA - Llega de la derecha
    gsap.fromTo(
      "#mariposa-der",
      { opacity: 0, x: 50, y: 20, rotation: 15, scale: 0.8 },
      { opacity: 1, x: 0, y: 0, rotation: 0, scale: 1, duration: 4, ease: "power2.out" }
    );

    // MARIPOSA DERECHA - Flotado con movimiento elegante
    gsap.to("#mariposa-der", {
      y: -12,
      rotation: -3,
      duration: 3,
      ease: "sine.inOut",
      yoyo: true,
      repeat: -1,
      delay: 1.5
    });

    gsap.to("#mariposa-der", {
      x: -10,
      duration: 4,
      ease: "sine.inOut",
      yoyo: true,
      repeat: -1,
      delay: 1.5
    });

    // FLORES IZQUIERDA - Salen de la izquierda
    gsap.fromTo(
      "#flores-foto-izq",
      { opacity: 0, x: -150 },
      { opacity: 1, x: 0, duration: 1.5, ease: "power2.out", delay: 0.7 }
    );

    // FLORES DERECHA - Salen de la derecha
    gsap.fromTo(
      "#flores-foto-der",
      { opacity: 0, x: 150 },
      { opacity: 1, x: 0, duration: 1.5, ease: "power2.out", delay: 0.7 }
    );

    // NOMBRE - Efecto cascada letra por letra
    function nombreCascadaElegante() {
      const texto = "Lucia";
      const contenedor = document.getElementById("nombre-typewriter");
      if (!contenedor) return;

      contenedor.innerHTML = texto
        .split("")
        .map(
          (letra, index) =>
            `<span class="letra-cascada" style="
                --i: ${index};
                opacity: 0; 
                display: inline-block; 
                transform: translateY(30px) scale(0.8);
                filter: blur(2px);
            ">${letra}</span>`
        )
        .join("");

      gsap.to(".letra-cascada", {
        opacity: 1,
        y: 0,
        scale: 1,
        filter: "blur(0px)",
        duration: 0.8,
        ease: "back.out(1.6)",
        stagger: { each: 0.12, from: "start" },
      });
    }

    // IMAGEN PRINCIPAL - Fade in con zoom
    gsap.fromTo(
      "#foto-container",
      { opacity: 0, scale: 0.8, y: 30 },
      { opacity: 1, scale: 1, y: 0, duration: 1.2, ease: "power2.out" }
    );

    nombreCascadaElegante();
    console.log("Animaciones listas!");
  });
</script>

<style>
  .letra-cascada {
    transition: all 0.3s ease;
    will-change: transform, opacity, filter;
    position: relative;
  }

  .letra-cascada:hover {
    transform: translateY(-3px) scale(1.05) !important;
    text-shadow: 0 0 12px rgba(78, 104, 75, 0.5) !important;
  }
</style>