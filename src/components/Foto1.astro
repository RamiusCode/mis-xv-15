---
// FotoQuinceaÃ±era.astro
---

<section class="py-4 px-4 relative overflow-hidden">
  <!-- Fondo sutil -->
  <div class="absolute inset-0 bg-gradient-to-br from-[#fffaf5] via-white to-[#fff5f5] opacity-40 z-0"></div>

  <div class="max-w-6xl mx-auto relative z-10">

    <div class="max-w-3xl mx-auto">

      <!-- CONTENEDOR PRINCIPAL DE LA FOTO -->
      <div class="relative" id="foto-principal">
        
        <!-- Marco principal con menos padding -->
        <div class="relative p-6 md:p-8">
          
          <!-- LÃ­neas decorativas minimalistas en las esquinas -->
          <div class="absolute top-2 left-2 w-16 h-16 border-t-2 border-l-2 border-[#a27735]/40"></div>
          <div class="absolute top-2 right-2 w-16 h-16 border-t-2 border-r-2 border-[#a27735]/40"></div>
          <div class="absolute bottom-2 left-2 w-16 h-16 border-b-2 border-l-2 border-[#a27735]/40"></div>
          <div class="absolute bottom-2 right-2 w-16 h-16 border-b-2 border-r-2 border-[#a27735]/40"></div>

          <!-- Card contenedor con sombra reducida -->
          <div class="relative backdrop-blur-sm bg-white/70 rounded-2xl border border-[#a27735]/20 shadow-lg p-4 md:p-5">
            
            <!-- Brillo superior suave -->
            <div class="absolute top-0 left-0 right-0 h-1/3 bg-gradient-to-b from-white/30 to-transparent rounded-t-2xl pointer-events-none"></div>

            <!-- MARCO DORADO MEJORADO - DiseÃ±o Art Deco -->
            <div class="relative">
              
              <!-- Resplandor suave exterior -->
              <div class="absolute -inset-2 bg-gradient-to-br from-[#a27735]/10 via-[#c9a55e]/15 to-[#a27735]/10 rounded-xl blur-lg"></div>
              
              <!-- Marco dorado exterior con bisel -->
              <div class="relative rounded-xl overflow-hidden">
                <!-- Borde biselado superior -->
                <div class="absolute inset-0 bg-gradient-to-br from-[#d4af37] via-[#c9a55e] to-[#a27735] rounded-xl"></div>
                
                <!-- Marco con efecto 3D -->
                <div class="relative m-[8px] md:m-[10px]">
                  
                  <!-- Sombra interna del marco -->
                  <div class="absolute inset-0 rounded-lg shadow-inner bg-gradient-to-tl from-[#a27735]/20 to-transparent"></div>
                  
                  <!-- LÃ­nea de luz superior (efecto 3D) -->
                  <div class="absolute top-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-[#f4e5c2] to-transparent rounded-t-lg"></div>
                  
                  <!-- Marco blanco intermedio -->
                  <div class="relative bg-white rounded-lg p-[5px] md:p-[6px]">
                    
                    <!-- Marco dorado interno delgado -->
                    <div class="relative bg-gradient-to-br from-[#c9a55e] via-[#d4af37] to-[#a27735] rounded-md p-[2px]">
                      
                      <!-- Contenedor de la imagen -->
                      <div class="relative bg-white rounded-sm overflow-hidden aspect-[3/4] md:aspect-[2/3]">
                        
                        <!-- La foto principal -->
                        <img 
                          src="/imagenes/Foto1.jpeg" 
                          alt="QuinceaÃ±era" 
                          class="w-full h-full object-cover transition-transform duration-700 ease-out hover:scale-[1.02]"
                          id="foto-quinceaÃ±era"
                        />

                        <!-- Overlay elegante al hover -->
                        <div class="absolute inset-0 bg-gradient-to-t from-[#a27735]/15 via-transparent to-white/10 opacity-0 hover:opacity-100 transition-opacity duration-500"></div>

                      </div>

                    </div>

                  </div>

                </div>

              </div>

            </div>

          </div>

        </div>

        <!-- Resplandor exterior muy suave -->
        <div class="absolute -inset-8 bg-gradient-to-br from-[#a27735]/5 via-transparent to-[#c9a55e]/5 rounded-full blur-2xl -z-10"></div>

      </div>

    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";

  gsap.registerPlugin(ScrollTrigger);

  if (typeof window !== 'undefined') {
    document.addEventListener("DOMContentLoaded", () => {
      console.log("ðŸ“¸ Iniciando foto elegante...");

      // ðŸŽ¯ ESTADO INICIAL
      gsap.set("#foto-principal", { opacity: 0, scale: 0.94, y: 40 });
      gsap.set("#texto-foto", { opacity: 0, y: 30 });

      // âœ¨ ANIMACIÃ“N DE ENTRADA
      const tl = gsap.timeline({
        scrollTrigger: {
          trigger: "#foto-principal",
          start: "top 85%",
          end: "top 20%",
          toggleActions: "play none none reverse",
        },
      });

      // 1. Foto principal aparece
      tl.to("#foto-principal", {
        opacity: 1,
        scale: 1,
        y: 0,
        duration: 1.2,
        ease: "power3.out",
      })

      // 2. Texto decorativo
      .to("#texto-foto", {
        opacity: 1,
        y: 0,
        duration: 0.9,
        ease: "power2.out",
      }, "-=0.5");

      // ðŸŒŸ ANIMACIÃ“N CONTINUA SUTIL
      gsap.to("#foto-principal .bg-gradient-to-br.from-\\[\\#a27735\\]\\/10", {
        opacity: 0.2,
        duration: 3,
        ease: "sine.inOut",
        yoyo: true,
        repeat: -1,
        delay: 2,
      });

      console.log("ðŸ“¸âœ¨ Â¡Foto elegante activada!");
    });
  }
</script>

<style>
  /* Hover suave en la foto */
  #foto-quinceaÃ±era {
    will-change: transform;
  }

  /* Efecto sutil en el marco al hover */
  #foto-principal:hover .bg-gradient-to-br {
    filter: brightness(1.05);
    transition: filter 0.5s ease;
  }
</style>