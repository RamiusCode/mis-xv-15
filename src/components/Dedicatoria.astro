<section class="py-8 px-4 relative">
  <div class="max-w-3xl mx-auto">
   
    <!-- 游꺛 FLORES ARRIBA -->
    <div class="flex justify-center mb-3" id="flores-arriba-ded">
      <img
        src="/imagenes/FlorArribaSeparador.webp"
        alt="Flores decorativas superiores"
        class="w-48 sm:w-56 md:w-64 lg:w-72 h-auto object-contain"
      />
    </div>
    
    <!-- TEXTO DEDICATORIA -->
    <div class="text-center px-4">
      <h2
        class="font-charm text-xl sm:text-xl md:text-2xl text-[#95303a] leading-relaxed"
        id="texto-ded"
      >
        Los sue침os se cumplen y hoy uno de los m칤os se hace realidad. Con la
        bendici칩n de Dios y el amor de mi familia, te invito a celebrar mis 15
        a침os.
      </h2>
    </div>
    
    <!-- 游꺛 FLORES ABAJO -->
    <div class="flex justify-center mt-3" id="flores-abajo-ded">
      <img
        src="/imagenes/FloresAbajoSeparador.webp"
        alt="Flores decorativas inferiores"
        class="w-48 sm:w-56 md:w-64 lg:w-72 h-auto object-contain"
      />
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import { ScrollTrigger } from "gsap/ScrollTrigger";
  
  gsap.registerPlugin(ScrollTrigger);
  
  document.addEventListener("DOMContentLoaded", () => {
    console.log("游눓 Iniciando animaciones de dedicatoria...");
    
    // Estado inicial - Todo oculto
    gsap.set("#flores-arriba-ded", { opacity: 0, y: -30 });
    gsap.set("#texto-ded", { opacity: 0, scale: 0.9 });
    gsap.set("#flores-abajo-ded", { opacity: 0, y: 30 });
    
    // ScrollTrigger con entrada y salida
    ScrollTrigger.create({
      trigger: "#texto-ded",
      start: "top 100%",
      end: "top 20%",
     
      onEnter: () => {
        console.log("游눓 Dedicatoria apareciendo...");
        animarEntrada();
      },
      onLeaveBack: () => {
        console.log("游눓 Dedicatoria desapareciendo...");
        animarSalida();
      },
    });
    
    // ANIMACI칍N DE ENTRADA - TODO AL MISMO TIEMPO
    function animarEntrada() {
      const tl = gsap.timeline();
      
      // Todo aparece simult치neamente con el mismo timing
      tl.to("#flores-arriba-ded, #texto-ded, #flores-abajo-ded", {
        opacity: 1,
        duration: 1,
        ease: "power2.out",
      })
      // Animaciones individuales de movimiento (simult치neas)
      .to("#flores-arriba-ded", {
        y: 0,
        duration: 1,
        ease: "power2.out",
      }, "<")  // "<" significa que empieza al mismo tiempo que la anterior
      .to("#texto-ded", {
        scale: 1,
        duration: 1,
        ease: "back.out(1.2)",
      }, "<")
      .to("#flores-abajo-ded", {
        y: 0,
        duration: 1,
        ease: "power2.out",
      }, "<");
    }
    
    // ANIMACI칍N DE SALIDA - TODO AL MISMO TIEMPO
    function animarSalida() {
      const tl = gsap.timeline();
      
      // Todo desaparece simult치neamente
      tl.to("#flores-arriba-ded, #texto-ded, #flores-abajo-ded", {
        opacity: 0,
        duration: 0.5,
        ease: "power2.in",
      })
      // Movimientos individuales (simult치neos)
      .to("#flores-arriba-ded", {
        y: -30,
        duration: 0.5,
        ease: "power2.in",
      }, "<")
      .to("#texto-ded", {
        scale: 0.9,
        duration: 0.5,
        ease: "power2.in",
      }, "<")
      .to("#flores-abajo-ded", {
        y: 30,
        duration: 0.5,
        ease: "power2.in",
      }, "<");
    }
  });
</script>